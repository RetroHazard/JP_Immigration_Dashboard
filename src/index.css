/* index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    body {
        @apply bg-gray-50 text-gray-900 antialiased
    }
}

/* Tippy.js */

.tippy-box[data-theme~='stat-tooltip'] {
    @apply bg-gray-700 text-white text-xs px-2 py-1 shadow-xl rounded-md dark:bg-gray-300 dark:text-gray-800;
}

.tippy-box[data-theme~='stat-tooltip'] > .tippy-arrow {
    @apply text-gray-700 dark:text-gray-300;
}

.tippy-box[data-theme~='stat-tooltip'] > .tippy-backdrop {
    @apply bg-gray-700 dark:bg-gray-300;
}

@layer components {
    /* Base Components */
    .base-container {
        @apply w-full h-full p-3 bg-white rounded-lg shadow-lg dark:bg-gray-700
        sm:p-4
        md:p-5
        lg:p-6
    }

    .section-block {
        @apply h-full
    }

    .build-info {
        @apply text-xxs text-gray-500 text-nowrap dark:text-gray-300
        sm:text-xs
        lg:text-sm
    }

    .hyperlink {
        @apply text-indigo-600 hover:text-indigo-500 dark:text-indigo-300 dark:hover:text-indigo-200
    }

    /* Theme Toggle */
    .theme-toggle {
        @apply flex items-center justify-center w-6 h-12 transition-colors bg-gray-300 border border-gray-800 rounded-full dark:bg-gray-600 dark:border-gray-200
    }

    .theme-toggle-icon {
        @apply w-4 h-4 text-gray-600 dark:text-gray-300
    }

    /* Layout Components */
    .header-block {
        @apply bg-white border-b shadow-md dark:bg-gray-700 dark:border-gray-600
    }

    .footer-block {
        @apply bg-white border-t dark:bg-gray-700 dark:border-gray-600
    }

    .marginals {
        @apply px-3
        sm:px-4 sm:py-1 sm:max-w-7xl sm:mx-auto
        lg:px-8
    }

    .footer-text {
        @apply mt-1 text-xxs text-center text-gray-500 text-pretty dark:text-gray-300
        sm:text-xs
    }

    .footer-text-small {
        @apply mt-1 mb-2 text-xxs text-center text-gray-500 text-pretty dark:text-gray-300
    }

    /* Typography */
    .section-title {
        @apply text-sm font-semibold dark:text-gray-100
        md:text-base
        lg:text-lg
    }

    /* Flex Layouts */
    .flex-col-end {
        @apply flex flex-col items-end p-2
    }

    .flex-between {
        @apply flex items-center justify-between
    }

    /* Stats Components */
    .stat-container {
        @apply grid grid-cols-5 gap-1 mt-4
        xl:w-full
    }

    /* Card Components */
    .card-base {
        @apply p-4 bg-white rounded-lg shadow-lg
    }

    .card-base-gray {
        @apply p-4 bg-gray-50 rounded-lg shadow-lg dark:bg-gray-700 drop-shadow-xl
    }

    .card-content {
        @apply space-y-4 overflow-y-auto
    }

    .card-content-padded {
        @apply p-2 card-content
        md:p-3
        lg:p-4
        xl:p-5
    }

    .stat-card {
        @apply w-fit p-2 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-700
        sm:flex sm:items-start sm:justify-start sm:w-full sm:h-full sm:p-3 sm:scale-95 sm:overflow-x-clip sm:text-pretty
        md:items-center md:p-4 md:rounded-xl
        lg:rounded-2xl
    }

    .stat-badge {
        @apply flex items-center justify-center w-10 h-10 rounded-lg
        md:min-h-12 md:h-16 md:w-8 md:rounded-lg
        lg:min-h-16 lg:h-20 lg:w-9
        xl:min-w-12 xl:rounded-xl
    }

    .stat-icon-text {
        @apply flex items-center justify-center text-2xl text-white
        md:text-2xl
        lg:text-3xl
        xl:text-4xl
    }

    /* Stat Text Elements */
    .stat-details {
        @apply hidden
        sm:flex sm:flex-col sm:ml-3 sm:h-full
        xl:ml-4
    }

    .stat-title {
        @apply hidden
        lg:block lg:text-base lg:font-semibold lg:text-gray-500 lg:dark:text-gray-300
    }

    .stat-short-title {
        @apply hidden
        sm:block sm:text-xs sm:font-semibold sm:text-gray-500 sm:text-nowrap sm:dark:text-gray-300
        md:text-sm
        lg:hidden
    }

    .stat-subtitle {
        @apply hidden
        md:block md:text-xs md:text-gray-400 md:dark:text-gray-300
        lg:text-sm
    }

    .stat-value {
        @apply hidden
        sm:block sm:text-xs sm:font-semibold sm:text-gray-700 sm:dark:text-gray-200 sm:mt-auto
        md:text-base
        lg:text-2xl
    }

    /* Filter Components */
    .filter-block {
        @apply grid grid-cols-2 gap-4
        sm:gap-3
        md:gap-6
    }

    .filter-select {
        @apply w-full text-xs font-semibold rounded-md input-box-colors
        sm:text-sm
        md:text-base
    }

    .filter-label {
        @apply text-xs font-medium text-gray-700 dark:text-gray-300
        sm:text-sm
        md:text-base md:font-semibold
    }

    .filter-note {
        @apply text-xxs italic text-gray-500 dark:text-gray-300
        sm:text-xs
        md:text-sm md:text-pretty
    }

    .input-box-colors {
        @apply text-gray-700 bg-gray-100 border-gray-800 dark:text-gray-300 dark:bg-gray-600 dark:border-gray-500 focus:border-indigo-500 focus:ring-indigo-700 dark:focus:border-gray-300 dark:focus:ring-gray-500
    }

    /* Chart Components */
    .chart-container {
        @apply w-full min-h-[325px]
        sm:min-h-[400px]
    }
    
    .map-container {
        @apply w-full min-h-[250px]
        sm:min-h-[350px]
        md:min-h-[450px] md:max-h-[550px] md:overflow-hidden
    }

    .chart-filter-select {
        @apply text-xs rounded-lg shadow-sm input-box-colors
        sm:text-sm sm:rounded-md
        md:text-base md:font-semibold
        lg:text-lg
    }

    .main-collapsed {
        @apply hidden
        sm:block sm:col-span-6
        md:col-span-7
        lg:col-span-8
    }

    .main-expanded {
        @apply hidden
        sm:block sm:col-span-11
        md:col-span-11
    }

    /* Estimation Components */
    .estimator-container {
        @apply flex flex-col h-full bg-white shadow-lg dark:bg-gray-700
        sm:rounded-lg sm:p-3
    }

    .flashing-chevron {
        @apply text-lg text-gray-500 animate-pulse dark:text-gray-300
        sm:text-3xl
    }

    .estimator-collapsed {
        @apply hidden
        sm:block sm:col-span-1
    }

    .estimator-expanded {
        @apply hidden
        sm:block sm:col-span-6
        md:col-span-5
        lg:col-span-4
    }

    /* Mobile Drawer */
    .mobile-drawer-label {
        @apply p-2 my-3 text-sm rotate-90 whitespace-nowrap
    }

    .mobile-drawer-overlay {
        @apply fixed inset-0 z-40 bg-black/50 transition-slow
        sm:hidden
    }

    .mobile-drawer-content {
        @apply fixed top-0 right-0 z-50 h-full w-full max-w-[300px] bg-white shadow-xl transform transition-slow
        sm:hidden
    }

    .mobile-drawer-trigger {
        @apply fixed right-0 top-[25%] z-30 transition-slow
        sm:hidden
    }

    /* Special Components */
    .clip-tapered-btn {
        @apply relative flex items-center justify-center h-[130px] w-[25px] overflow-visible bg-gray-700 text-white shadow-lg animate-pulse clip-path-tapered-btn hover:bg-gray-500 dark:bg-gray-300 dark:text-gray-700
    }

    .zoom-button {
        @apply h-8 w-8 flex items-center justify-center bg-gray-300 dark:bg-gray-500 rounded-full shadow-lg border border-gray-500 dark:border-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors
        sm:text-xl
    }

    @screen sm {
        .clip-tapered-btn {
            @apply clip-path-tapered-btn-sm;
        }
    }

    @layer utilities {
        /* Vertical Alignment */
        .vertical-align-sub {
            vertical-align: -0.125em;
        }

        .vertical-align-sub-more {
            vertical-align: -0.225em;
        }

        /* Clip Paths */
        .clip-path-tapered-btn {
            clip-path: polygon(0 20%, 100% 0, 100% 100%, 0 80%);
        }

        .clip-path-tapered-btn-sm {
            clip-path: polygon(0 15%, 100% 0, 100% 100%, 0 85%);
        }

        /* Transitions */
        .transition-slow {
            @apply transition-all duration-500 ease-in-out;
        }
    }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    @apply w-2
}

::-webkit-scrollbar-track {
    @apply bg-gray-100
}

.dark ::-webkit-scrollbar-track {
    @apply bg-gray-800
}

::-webkit-scrollbar-thumb {
    @apply bg-gray-400 rounded-full
}

.dark ::-webkit-scrollbar-thumb {
    @apply bg-gray-600
}

::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500
}