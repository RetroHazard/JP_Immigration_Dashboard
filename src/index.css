/* index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    body {
        @apply bg-gray-50 text-gray-900 antialiased
    }
}

@layer components {
    .base-container {
        @apply bg-white rounded-lg shadow-lg p-3 w-full h-full
        sm:p-4
        md:p-5
        lg:p-6
    }

    .section-block {
        @apply mb-8 h-full
    }

    .build-info {
        @apply text-xxs text-gray-500 text-nowrap
        sm:text-xs
        lg:text-sm
    }

    .hyperlink {
        @apply text-indigo-600 hover:text-indigo-500
    }

    .form-label {
        @apply block text-sm font-medium text-gray-700
    }

    .header-block {
        @apply border-b bg-white shadow-md
    }

    .footer-block {
        @apply border-t bg-white
    }

    .marginals {
        @apply mx-auto max-w-7xl px-3
        sm:px-6 sm:py-1
        lg:px-8
    }

    .footer-text {
        @apply text-center text-xs text-gray-500 text-pretty
    }

    .footer-text-small {
        @apply text-center text-xxs text-gray-500 mt-2 text-pretty
    }

    .section-title {
        @apply text-sm font-semibold
        sm:text-base
        md:text-lg
        lg:text-xl
    }

    .flex-col-end {
        @apply flex flex-col items-end
    }

    .flex-between {
        @apply flex items-center justify-between
    }

    /* Stats Summary */
    .stat-container {
        @apply grid grid-cols-5 gap-1 mt-4
    }

    .stat-tooltip {
        @apply absolute bottom-full left-1/2 -translate-x-1/2
        mb-2 p-2 z-50
        text-xs font-medium text-white bg-gray-900 rounded-lg
        opacity-0 invisible
        group-hover:opacity-100 group-hover:visible
        transition-opacity duration-300
        max-w-[calc(100vw-1rem)]
        whitespace-normal
        text-center
        transform-gpu
        sm:hidden
    }

    .stat-tooltip-arrow {
        @apply absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-gray-900 rotate-45
    }

    .card-base {
        @apply bg-white rounded-lg shadow-lg p-4
    }

    .card-base-gray {
        @apply bg-gray-50 rounded-lg shadow-lg p-4 drop-shadow-xl
    }

    .card-content {
        @apply space-y-4 overflow-y-auto
    }

    .card-content-padded {
        @apply card-content p-5
    }

    .stat-card {
        @apply items-center justify-center bg-white rounded-lg shadow-lg p-2 w-fit mx-auto
        sm:flex sm:items-start sm:justify-start sm:p-3 sm:w-full sm:h-full sm:scale-95
        md:items-center md:p-4 md:text-nowrap
    }

    .stat-badge {
        @apply w-10 h-10 rounded-lg flex items-center justify-center
        md:h-28 md:min-h-12 md:rounded-2xl
        xl:min-w-16 xl:rounded-3xl
    }

    .stat-icon-text {
        @apply text-white text-2xl flex justify-center items-center
        md:text-3xl
        xl:text-5xl
    }

    .stat-details {
        @apply hidden
        sm:block sm:ml-3
        xl:ml-5
    }

    .stat-value {
        @apply hidden
        sm:block sm:text-xs sm:font-semibold sm:text-gray-900
        md:text-base md:mt-1
        lg:text-2xl
    }

    .stat-title {
        @apply hidden
        lg:block lg:text-sm lg:font-semibold lg:text-gray-500
    }

    .stat-short-title {
        @apply hidden
        sm:block sm:text-xs sm:text-nowrap sm:font-semibold sm:text-gray-500
        md:text-sm
        lg:hidden
    }

    .stat-subtitle {
        @apply hidden
        md:block md:text-xs md:text-gray-400
        lg:text-sm
    }

    .stat-date {
        @apply hidden
        md:block md:text-xs md:text-gray-400 md:italic
    }

    /* Filters */
    .filter-block {
        @apply grid grid-cols-2 gap-4
        sm:grid-cols-3 sm:gap-5
        md:gap-6
    }

    .filter-select {
        @apply w-full text-xs rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500
        sm:rounded-md sm:text-sm
        md:text-base
    }

    .filter-label {
        @apply text-sm font-medium text-gray-700
        sm:rounded-md sm:text-sm
        md:text-base md:font-semibold
        lg:text-lg
    }

    .filter-note {
        @apply text-xs italic text-gray-500
        md:text-sm md:text-pretty
    }

    /* Charts */
    .chart-container {
        @apply h-[300px] w-full
        sm:h-[400px]
    }

    .chart-filter-select {
        @apply rounded-lg text-xs border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500
        sm:rounded-md sm:text-sm
        md:text-base md:font-semibold
        lg:text-xl
    }

    .chart-collapsed {
        @apply hidden
        sm:col-span-6 sm:block
        lg:col-span-8
    }

    .chart-expanded {
        @apply hidden
        sm:col-span-11 sm:block
        md:col-span-11
    }

    /* Estimation */
    .estimator-container {
        @apply bg-white rounded-lg shadow-lg h-full
    }
    
    .flashing-chevron {
        @apply animate-pulse text-lg text-gray-500
        sm:text-3xl
    }

    .estimator-collapsed {
        @apply hidden
        sm:col-span-1 sm:block
    }

    .estimator-expanded {
        @apply hidden
        sm:col-span-6 sm:block
        lg:col-span-4
    }

    [style*="writing-mode: vertical-rl"] {
        text-orientation: mixed;
    }

    .mobile-drawer-label {
        @apply my-3 rotate-90 whitespace-nowrap text-sm p-2
    }

    .mobile-drawer-overlay {
        @apply fixed inset-0 bg-black/50 z-40 transition-slow
        sm:hidden
    }

    .mobile-drawer-content {
        @apply fixed top-0 right-0 h-full w-full max-w-[300px] bg-white shadow-xl z-50 transform transition-slow
        sm:hidden
    }

    .mobile-drawer-trigger {
        @apply fixed right-0 top-[25%] z-30 transition-slow
        sm:hidden
    }

    .clip-tapered-btn {
        @apply relative flex h-[130px] w-[25px] animate-pulse items-center justify-center overflow-visible bg-gray-700 text-white shadow-lg hover:bg-gray-500 clip-path-tapered-btn;
    }

    @screen sm {
        .clip-tapered-btn {
            @apply clip-path-tapered-btn-sm;
        }
    }

    @layer utilities {
        .vertical-align-sub {
            vertical-align: -0.125em;
        }

        .vertical-align-sub-more {
            vertical-align: -0.225em;
        }

        .clip-path-tapered-btn {
            clip-path: polygon(0 20%, 100% 0, 100% 100%, 0 80%);
        }

        .clip-path-tapered-btn-sm {
            clip-path: polygon(0 15%, 100% 0, 100% 100%, 0 85%);
        }

        .transition-slow {
            @apply transition-all duration-500 ease-in-out;
        }
    }
}

/* Custom scrollbar */
::-webkit-scrollbar {
    @apply w-2
}

::-webkit-scrollbar-track {
    @apply bg-gray-100
}

::-webkit-scrollbar-thumb {
    @apply bg-gray-400 rounded-full
}

::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500
}